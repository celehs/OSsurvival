<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OSsurvival: Optimal Surrogate SUrvival • OSsurvival</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="OSsurvival: Optimal Surrogate SUrvival">
<meta property="og:description" content="The goal of OSsurvival is to estimate the proportion of treatment explained (PTE) for optimally-transformed surrogate with censored primary outcome.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">OSsurvival</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="optimal-surrogate-survival-quantifying-the-feasibility-of-shortening-clinical-trial-duration-using-surrogate-markers" class="section level2">
<h2 class="hasAnchor">
<a href="#optimal-surrogate-survival-quantifying-the-feasibility-of-shortening-clinical-trial-duration-using-surrogate-markers" class="anchor"></a>Optimal Surrogate Survival: Quantifying the Feasibility of Shortening Clinical Trial Duration Using Surrogate Markers</h2>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of Optimal Surrogate Survival (OSsurvival) is to nonparametrically estimate the proportion of treatment on the primary outcome explained by a surrogate (PTE) of an optimally transformation of surrogate marker measured at an earlier time. The primary outcome measured at a later time may be subject to censoring.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The development version of this package can be installed from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(devtools)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"celehs/OSsurvival"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">OSsurvival</span>)
<span class="co"># load the data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"sysdata"</span>)

<span class="co"># time at which the surrogate is measured</span>
<span class="kw">t.0</span> <span class="op">=</span> <span class="kw">data.example</span><span class="op">$</span><span class="kw">t.0</span>

<span class="co"># time at which the primary outcome is measured</span>
<span class="kw">t</span> <span class="op">=</span> <span class="kw">data.example</span><span class="op">$</span><span class="kw">t</span>

<span class="co"># observed survival time</span>
<span class="kw">xob</span> <span class="op">=</span> <span class="kw">data.example</span><span class="op">$</span><span class="kw">data</span><span class="op">$</span><span class="kw">xob</span>

<span class="co"># surrogate information at t.0</span>
<span class="kw">s.ob</span> <span class="op">=</span> <span class="kw">data.example</span><span class="op">$</span><span class="kw">data</span><span class="op">$</span><span class="kw">s.ob</span>

<span class="co"># event indicator</span>
<span class="kw">deltaob</span> <span class="op">=</span> <span class="kw">data.example</span><span class="op">$</span><span class="kw">data</span><span class="op">$</span><span class="kw">deltaob</span>

<span class="co"># treatment indicator</span>
<span class="kw">aob</span> <span class="op">=</span> <span class="kw">data.example</span><span class="op">$</span><span class="kw">data</span><span class="op">$</span><span class="kw">aob</span>

<span class="co"># main estimation function</span>
<span class="co"># varind: whether to estimate variance; re:number of replications for resampling</span>
<span class="kw">out</span> <span class="op">=</span> <span class="fu"><a href="reference/pte.survival.html">pte.survival</a></span>(<span class="kw">xob</span>, <span class="kw">s.ob</span>, <span class="kw">deltaob</span>, <span class="kw">aob</span>, <span class="kw">t</span>, <span class="kw">t.0</span>, varind=<span class="fl">0</span>, re=<span class="fl">100</span>)

<span class="co"># estimated PTE</span>
<span class="kw">out</span><span class="op">$</span><span class="kw">pte.est</span>
<span class="co">#&gt; [1] 0.8413843</span>

<span class="co"># estimated g1</span>
<span class="kw">out</span><span class="op">$</span><span class="kw">g1.est</span>
<span class="co">#&gt; [1] -0.0180641</span>

<span class="co"># estimated g2(s) at equally spaced s point</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="kw">out</span><span class="op">$</span><span class="kw">sgrid</span>, <span class="kw">out</span><span class="op">$</span><span class="kw">gs.est</span>, type=<span class="st">"l"</span>, xlab = <span class="st">"Surrogate Marker"</span>, ylab = <span class="st">"Optimal Transformation"</span>)
</pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"> The PTE result indicates that this is a moderate to high surrogate marker in this setting.</p>
</div>
<div id="some-background" class="section level2">
<h2 class="hasAnchor">
<a href="#some-background" class="anchor"></a>Some background</h2>
<p>The observable data for analysis consist of <span class="math inline"><em>n</em></span> sets of independent and identically distributed random vectors <span class="math inline">{<em>D</em><sub><em>i</em></sub> = (<em>X</em><sub><em>i</em></sub>, <em>δ</em><sub><em>i</em></sub>, <em>S</em><sub><em>i</em></sub><em>I</em>(<em>X</em><sub><em>i</em></sub> ≥ <em>t</em><sub>0</sub>), <em>A</em><sub><em>i</em></sub>), <em>i</em> = 1, ..., <em>n</em>}</span>, where <span class="math inline"><em>T</em><sub><em>i</em></sub> = <em>T</em><sub><em>i</em></sub><sup>(1)</sup><em>A</em><sub><em>i</em></sub> + <em>T</em><sub><em>i</em></sub><sup>(0)</sup>(1 − <em>A</em><sub><em>i</em></sub>)</span>, <span class="math inline"><em>C</em><sub><em>i</em></sub> = <em>C</em><sub><em>i</em></sub><sup>(1)</sup><em>A</em><sub><em>i</em></sub> + <em>C</em><sub><em>i</em></sub><sup>(0)</sup>(1 − <em>A</em><sub><em>i</em></sub>)</span>, <span class="math inline"><em>X</em><sub><em>i</em></sub> = <em>m</em><em>i</em><em>n</em>(<em>T</em><sub><em>i</em></sub>, <em>C</em><sub><em>i</em></sub>)</span>, the primary outcome <span class="math inline"><em>Y</em><sub><em>i</em></sub> = <em>I</em>(<em>X</em><sub><em>i</em></sub> &gt; <em>t</em>)</span>, the surrogate <span class="math inline"><em>S</em><sub><em>i</em></sub> = <em>S</em><sub><em>i</em></sub><sup>(1)</sup><em>A</em><sub><em>i</em></sub> + <em>S</em><sub><em>i</em></sub><sup>(0)</sup>(1 − <em>A</em><sub><em>i</em></sub>)</span> is only observed for those with <span class="math inline"><em>X</em><sub><em>i</em></sub> &gt; <em>t</em><sub>0</sub></span>.</p>
<p>The function outputs estimates (and standard error estimates if indicated) of <span class="math inline"><em>P</em><em>T</em><em>E</em> = <em>Δ</em><sub><em>g</em><sub><em>o</em><em>p</em><em>t</em></sub>(<em>S</em>)</sub>/<em>Δ</em></span>, the proportion of treatment effect explained quantity based on the ratio between the treatment effect on the optimal transformation of the potential surrogate marker and the treatment effect on the primary outcome, where <span class="math inline"><em>Δ</em></span> is the treatment effect on the primary outcome <span class="math inline"><em>Y</em></span>; <span class="math inline"><em>Δ</em><sub><em>g</em><sub><em>o</em><em>p</em><em>t</em></sub>(<em>S</em>)</sub></span> is the treatment effect on the optimal transformation of the surrogate <span class="math inline"><em>g</em><sub><em>o</em><em>p</em><em>t</em></sub>(<em>S</em>) = <em>I</em>(<em>T</em> ≤ <em>t</em><sub>0</sub>) <em>g</em><sub>1, <em>o</em><em>p</em><em>t</em></sub> + <em>I</em>(<em>T</em> &gt; <em>t</em><sub>0</sub>) <em>g</em><sub>2, <em>o</em><em>p</em><em>t</em></sub> ≈ <em>I</em>(<em>T</em> &gt; <em>t</em><sub>0</sub>) <em>g</em><sub>2, <em>o</em><em>p</em><em>t</em></sub></span>.</p>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>Wang X, Cai T, Tian L, Bourgeois F, Parast L. Quantifying the Feasibility of Shortening Clinical Trial Duration Using Surrogate Markers. Under revision.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Xuan Wang <br><small class="roles"> Author </small>  </li>
<li>Clara-Lea Bonzel <br><small class="roles"> Author </small>  </li>
<li>Tianxi Cai <br><small class="roles"> Author </small>  </li>
<li> PARSE LTD <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Xuan Wang, Clara-Lea Bonzel, Tianxi Cai,  PARSE LTD.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
